#!/usr/bin/env python3

# Query the Azur Lane Wiki Cargo Query table for a JSON database of ships
# Please only run this when necessary

import urllib.request

wikiurl = 'https://azurlane.koumakan.jp/w/api.php?action=cargoquery&tables=ships&format=json&limit=500&fields=ships.ShipGroup,ships.ShipID,ships.Name,ships.CNName,ships.JPName,ships.KRName,ships.Rarity,ships.Nationality,ships.ConstructTime,ships.Type,ships.SubtypeRetro,ships.Class,ships.Artist,ships.ArtistLink,ships.ArtistPixiv,ships.ArtistTwitter,ships.Voiced,ships.VA,ships.Remodel,ships.RemodelId,ships.Image,ships.ImageShipyardIcon,ships.ImageChibi,ships.ImageIcon,ships.ImageBanner,ships.ImageKai,ships.ImageShipyardIconKai,ships.ImageChibiKai,ships.ImageIconKai,ships.ImageBannerKai,ships.HealthInitial,ships.Armor,ships.FireInitial,ships.AAInitial,ships.TorpInitial,ships.AirInitial,ships.ReloadInitial,ships.EvadeInitial,ships.ConsumptionInitial,ships.Speed,ships.Luck,ships.AccInitial,ships.ASWInitial,ships.OxygenInitial,ships.AmmoInitial,ships.HealthMax,ships.FireMax,ships.AAMax,ships.TorpMax,ships.AirMax,ships.ReloadMax,ships.EvadeMax,ships.ConsumptionMax,ships.AccMax,ships.ASWMax,ships.OxygenMax,ships.AmmoMax,ships.HealthKai,ships.ArmorKai,ships.FireKai,ships.AAKai,ships.TorpKai,ships.AirKai,ships.ReloadKai,ships.EvadeKai,ships.ConsumptionKai,ships.SpeedKai,ships.ASWKai,ships.AccKai,ships.OxygenKai,ships.AmmoKai,ships.Health120,ships.Fire120,ships.AA120,ships.Torp120,ships.Air120,ships.Reload120,ships.Evade120,ships.Consumption120,ships.Acc120,ships.ASW120,ships.Oxygen120,ships.Ammo120,ships.HealthKai120,ships.FireKai120,ships.AAKai120,ships.TorpKai120,ships.AirKai120,ships.ReloadKai120,ships.EvadeKai120,ships.ConsumptionKai120,ships.AccKai120,ships.ASWKai120,ships.OxygenKai120,ships.AmmoKai120,ships.Eq1Type,ships.Eq1EffInit,ships.Eq1EffInitMax,ships.Eq1EffInitKai,ships.Eq2Type,ships.Eq2EffInit,ships.Eq2EffInitMax,ships.Eq2EffInitKai,ships.Eq3Type,ships.Eq3EffInit,ships.Eq3EffInitMax,ships.Eq3EffInitKai,ships.LB1,ships.LB2,ships.LB3'
urllib.request.urlretrieve(wikiurl, 'shiplist.json')
